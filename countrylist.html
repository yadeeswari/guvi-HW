<!DOCTYPE html>
<html>
    <head>
        <title>Guvi JS Day 3</title>
    </head>
    <body>
        <h1>Hello</h1>
        <h2>This is an example for XML HTTP Request</h2>
        <script>
            console.log("Welcome to HTML JS")

            function handleData(){
               let data=JSON.parse(this.responseText)

            //    for(let i=0; i<data.length;i++)
            //    {
            //     console.log(data[i].flags.png);
            //    }
                
            for(let i=0; i<data.length;i++)
            {
                let a = "country:" + data[i].name.common;
                let b = "region:" + data[i].region;
                let c = "subregion:" + data[i].subregion;
                let d = "population:" + data[i].population;
                console.log(a,",",b,",",c,",",d);
                
            }
           
            }


            const req = new XMLHttpRequest();
             req.addEventListener('load',handleData)
            req.onload = (res)=>{
               // console.log(JSON.parse(res.srcElement.responseText))
            }
            req.open("GET","https://restcountries.com/v3.1/all")
            req.send()
        </script>
    </body>
</html>

